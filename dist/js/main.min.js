"use strict";AOS.init();var email=document.querySelector("#email"),sendBtn=document.querySelector(".contact__form-btn"),popup=document.querySelector(".popup"),allInputs=document.querySelectorAll("input"),footerYear=document.querySelector(".footer_year"),burgerBtn=document.querySelector(".burger-btn"),navbar=document.querySelector(".navbar"),menuItems=document.querySelectorAll(".navbar__item"),scrollSpySections=document.querySelectorAll(".scrollspy"),sections=document.querySelectorAll(".section"),allImages=document.querySelectorAll(".zoom-img"),closeButton=document.querySelector(".close-btn"),popupBox=document.querySelector(".popup-img"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},showError=(handleCurrentYear(),function(e,t){var e=e.parentElement,o=e.querySelector(".error-text");e.classList.add("error"),o.textContent=t}),clearError=function(e){e=e.parentElement;console.log(e),e.classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,"Uzupe≈Çnij pole *"):clearError(e)})},checkMail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")},closePopup=function(){popup.classList.remove("show-popup")},checkErrors=function(){var e=document.querySelectorAll(".contact__form-box"),t=0;e.forEach(function(e){e.classList.contains("error")&&t++}),0===t&&(popup.classList.add("show-popup"),setTimeout(closePopup,2e3))},openMenu=(sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm(allInputs),checkMail(email),checkErrors()}),function(){document.querySelector(".navbar__list").classList.toggle("navbar__list--active")}),itemcloseMenu=(burgerBtn.addEventListener("click",openMenu),function(){document.querySelector(".navbar__list").classList.remove("navbar__list--active")}),closeMenu=function(){var e=document.querySelector(".navbar__icon");document.querySelectorAll(".navbar__item").forEach(function(e){e.addEventListener("click",itemcloseMenu)}),e.addEventListener("click",itemcloseMenu)},handleScrollSpy=(closeMenu(),function(){var t;document.body.classList.contains("main-page")&&(t=[],scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-navbar.offsetHeight-1&&(t.push(e),e=document.querySelector('[href*="'.concat(t[0].id,'"]')),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active")),window.innerHeight+window.scrollY>document.body.offsetHeight&&(e=document.querySelector(".navbar-item:last-of-type"),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add(".active"))}))}),closingPopup=(window.addEventListener("scroll",handleScrollSpy),allImages.forEach(function(t){t.addEventListener("click",function(){var e=document.querySelector(".popup-img img");popupBox.style.display="block",e.src=t.getAttribute("src"),e.alt=t.getAttribute("alt")})}),function(){popupBox.style.display="none"}),escapeKeyCheck=function(e){"Escape"===e.key&&closingPopup()};document.addEventListener("keyup",escapeKeyCheck),closeButton.addEventListener("click",closingPopup),popupBox.addEventListener("click",closingPopup);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQU9TIiwiaW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVtYWlsIiwic2VuZEJ0biIsInBvcHVwIiwiYWxsSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvb3RlclllYXIiLCJidXJnZXJCdG4iLCJuYXZiYXIiLCJtZW51SXRlbXMiLCJzY3JvbGxTcHlTZWN0aW9ucyIsInNlY3Rpb25zIiwiYWxsSW1hZ2VzIiwiY2xvc2VCdXR0b24iLCJoYW5kbGVDdXJyZW50WWVhciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJlcnJvck1zZyIsImZvcm1Cb3giLCJjbGFzc0xpc3QiLCJwYXJlbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJtc2ciLCJjbGVhckVycm9yIiwiYWRkIiwiaW5wdXQiLCJjaGVja0Zvcm0iLCJjb25zb2xlIiwiZm9yRWFjaCIsImVsIiwicmVtb3ZlIiwidmFsdWUiLCJzaG93RXJyb3IiLCJjaGVja01haWwiLCJ0ZXN0IiwiY2hlY2tFcnJvcnMiLCJlcnJvckNvdW50IiwiY2xvc2VQb3B1cCIsInNldFRpbWVvdXQiLCJhbGxGb3JtQm94ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJjb250YWlucyIsIm5hdkl0ZW1zIiwiZSIsIml0ZW1jbG9zZU1lbnUiLCJuYXZMaXN0Iiwib3Blbk1lbnUiLCJoYW5kbGVTY3JvbGxTcHkiLCJjbG9zZU1lbnUiLCJzY3JvbGxZIiwibmF2SWNvbiIsInNlY3Rpb24iLCJhY3RpdmVTZWN0aW9uIiwiYm9keSIsIndpbmRvdyIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsInBvcHVwQm94IiwiY29uY2F0IiwiZ2V0QXR0cmlidXRlIiwiaXRlbSIsInN0eWxlIiwibGFzdFNlY3Rpb24iLCJjbG9zaW5nUG9wdXAiLCJwb3B1cEltZyIsImRpc3BsYXkiLCJzcmMiLCJhbHQiLCJlc2NhcGVLZXlDaGVjayIs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IjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJBT1MuaW5pdCgpO1xyXG5cclxuY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW1haWwnKTtcclxuY29uc3Qgc2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWJ0bicpO1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5jb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl95ZWFyJyk7XHJcbmNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJyk7XHJcbmNvbnN0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcclxuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmJhcl9faXRlbScpO1xyXG5jb25zdCBzY3JvbGxTcHlTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3JvbGxzcHknKTtcclxuY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpO1xyXG5jb25zdCBhbGxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuem9vbS1pbWcnKTtcclxuY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XHJcbmNvbnN0IHBvcHVwQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWltZycpO1xyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XHJcbn07XHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpO1xyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKTtcclxuXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gbXNnO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRjb25zb2xlLmxvZyhmb3JtQm94KTtcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwudmFsdWUgPT09ICcnKSB7XHJcblx0XHRcdHNob3dFcnJvcihlbCwgJ1V6dXBlxYJuaWogcG9sZSAqJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhckVycm9yKGVsKTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrTWFpbCA9IGVtYWlsID0+IHtcclxuXHRjb25zdCByZSA9XHJcblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcblxyXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihlbWFpbCwgJ0UtbWFpbCBqZXN0IG5pZXBvcHJhd255Jyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBvcHVwJyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxGb3JtQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdF9fZm9ybS1ib3gnKTtcclxuXHRsZXQgZXJyb3JDb3VudCA9IDA7XHJcblxyXG5cdGFsbEZvcm1Cb3hlcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdy1wb3B1cCcpO1xyXG5cdFx0c2V0VGltZW91dChjbG9zZVBvcHVwLCAyMDAwKTtcclxuXHR9XHJcblxyXG5cdGVycm9yQ291bnQ7XHJcbn07XHJcblxyXG5zZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGNoZWNrRm9ybShhbGxJbnB1dHMpO1xyXG5cdGNoZWNrTWFpbChlbWFpbCk7XHJcblx0Y2hlY2tFcnJvcnMoKTtcclxufSk7XHJcblxyXG4vLyBidXJnZXIgYnRuXHJcblxyXG5jb25zdCBvcGVuTWVudSA9ICgpID0+IHtcclxuXHRjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcl9fbGlzdCcpO1xyXG5cdG5hdkxpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2YmFyX19saXN0LS1hY3RpdmUnKTtcclxufTtcclxuXHJcbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5NZW51KTtcclxuXHJcbi8vIGNsb3NlIG1lbnVcclxuXHJcbmNvbnN0IGl0ZW1jbG9zZU1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2xpc3QnKTtcclxuXHRuYXZMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ25hdmJhcl9fbGlzdC0tYWN0aXZlJyk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2ljb24nKTtcclxuXHRjb25zdCBuYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXJfX2l0ZW0nKTtcclxuXHRuYXZJdGVtcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaXRlbWNsb3NlTWVudSk7XHJcblx0fSk7XHJcblxyXG5cdG5hdkljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpdGVtY2xvc2VNZW51KTtcclxufTtcclxuXHJcbmNsb3NlTWVudSgpO1xyXG5cclxuLy8gc2Nyb2xsIHNweVxyXG5cclxuY29uc3QgaGFuZGxlU2Nyb2xsU3B5ID0gKCkgPT4ge1xyXG5cdGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1wYWdlJykpIHtcclxuXHRcdGNvbnN0IHNlY3Rpb25zID0gW107XHJcblxyXG5cdFx0c2Nyb2xsU3B5U2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdHdpbmRvdy5zY3JvbGxZIDw9XHJcblx0XHRcdFx0c2VjdGlvbi5vZmZzZXRUb3AgKyBzZWN0aW9uLm9mZnNldEhlaWdodCAtIG5hdmJhci5vZmZzZXRIZWlnaHQgLSAxXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHNlY3Rpb25zLnB1c2goc2VjdGlvbik7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHRcdFx0YFtocmVmKj1cIiR7c2VjdGlvbnNbMF0uaWR9XCJdYFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcblxyXG5cdFx0XHRcdGFjdGl2ZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgKyB3aW5kb3cuc2Nyb2xsWSA+IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0KSB7XHJcblx0XHRcdFx0Y29uc3QgbGFzdFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyLWl0ZW06bGFzdC1vZi10eXBlJyk7XHJcblxyXG5cdFx0XHRcdG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcblxyXG5cdFx0XHRcdGxhc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJy5hY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59O1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbFNweSk7XHJcblxyXG4vLyB6b29tIGltZ1xyXG5cclxuYWxsSW1hZ2VzLmZvckVhY2goZWwgPT4ge1xyXG5cdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0Y29uc3QgcG9wdXBJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW1nIGltZycpO1xyXG5cdFx0cG9wdXBCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRwb3B1cEltZy5zcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xyXG5cdFx0cG9wdXBJbWcuYWx0ID0gZWwuZ2V0QXR0cmlidXRlKCdhbHQnKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG4vLyBjbG9zZSBpbWdcclxuXHJcbmNvbnN0IGNsb3NpbmdQb3B1cCA9ICgpID0+IHtcclxuXHRwb3B1cEJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG59O1xyXG5cclxuY29uc3QgZXNjYXBlS2V5Q2hlY2sgPSBlID0+IHtcclxuXHRpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcblx0XHRjbG9zaW5nUG9wdXAoKTtcclxuXHR9XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGVzY2FwZUtleUNoZWNrKTtcclxuXHJcbmNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2luZ1BvcHVwKTtcclxucG9wdXBCb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zaW5nUG9wdXApO1xyXG4iXX0=
