"use strict";var email=document.querySelector("#email"),sendBtn=document.querySelector(".contact__form-btn"),popup=document.querySelector(".popup"),allInputs=document.querySelectorAll("input"),form=document.getElementById("form"),footerYear=document.querySelector(".footer_year"),burgerBtn=document.querySelector(".burger-btn"),navbar=document.querySelector(".navbar"),menuItems=document.querySelectorAll(".navbar__item"),scrollSpySections=document.querySelectorAll("[data-scroll='scrollspy']"),allImages=document.querySelectorAll(".zoom-img"),closeButton=document.querySelector(".close-btn"),popupBox=document.querySelector(".popup-img"),cookieBox=document.querySelector(".cookie-box"),cookieBtn=document.querySelector(".cookie-btn"),main=function(){prepareDOMEvents(),handleCurrentYear(),showCookie(),closeMenu()},prepareDOMEvents=(console.log("object"),function(){form.addEventListener("submit",function(e){e.preventDefault(),checkForm(allInputs),checkMail(email),checkErrors()}),form.addEventListener("submit",checkFormSubmission),window.addEventListener("scroll",handleScrollSpy),cookieBtn.addEventListener("click",handleCookieBBox),document.addEventListener("keyup",escapeKeyCheck),closeButton.addEventListener("click",closingPopup),popupBox.addEventListener("click",closingPopup),burgerBtn.addEventListener("click",openMenu)}),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},checkFormSubmission=function(e){e.preventDefault()},showError=function(e,o){var e=e.parentElement,t=e.querySelector(".error-text");e.classList.add("error"),t.textContent=o},clearError=function(e){e.parentElement.classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value.trim()?showError(e,"To pole nie może pozostać puste"):clearError(e)})},checkMail=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.trim())?(clearError(e),!1):(""===e.value.trim()?showError(e,"To pole nie może pozostać puste"):showError(e,"E-mail jest niepoprawny"),!0)},closePopup=function(){popup.classList.remove("show-popup")},checkErrors=function(){var e=document.querySelectorAll(".contact__form-box"),o=0;return e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&(popup.classList.add("show-popup"),setTimeout(closePopup,2e3)),o},openMenu=function(){document.querySelector(".navbar__list").classList.toggle("navbar__list--active")},itemcloseMenu=function(){document.querySelector(".navbar__list").classList.remove("navbar__list--active")},closeMenu=function(){var e=document.querySelector(".navbar__icon");document.querySelectorAll(".navbar__item").forEach(function(e){e.addEventListener("click",itemcloseMenu)}),e.addEventListener("click",itemcloseMenu)},handleScrollSpy=function(){var o;document.body.classList.contains("main-page")&&(o=[],scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-navbar.offsetHeight-1&&(o.push(e),(e=document.querySelector('[href*="'.concat(o[0].id,'"]')))?(menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active")):menuItems.forEach(function(e){return e.classList.remove("active")})),window.innerHeight+window.scrollY>document.body.offsetHeight&&(e=document.querySelector(".navbar-item:last-of-type"),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add(".active"))}))},closingPopup=(allImages.forEach(function(o){o.addEventListener("click",function(){var e=document.querySelector(".popup-img img");popupBox.style.display="block",e.src=o.getAttribute("src"),e.alt=o.getAttribute("alt")})}),function(){popupBox.style.display="none"}),escapeKeyCheck=function(e){"Escape"===e.key&&closingPopup()},showCookie=function(){localStorage.getItem("cookie")&&cookieBox.classList.add("hide")},handleCookieBBox=function(){localStorage.setItem("cookie","true"),cookieBox.classList.add("hide")};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZW1haWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZW5kQnRuIiwicG9wdXAiLCJhbGxJbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9ybSIsImdldEVsZW1lbnRCeUlkIiwiZm9vdGVyWWVhciIsImJ1cmdlckJ0biIsIm5hdmJhciIsImFsbEltYWdlcyIsImNsb3NlQnV0dG9uIiwicG9wdXBCb3giLCJjb29raWVCb3giLCJjb29raWVCdG4iLCJwcmVwYXJlRE9NRXZlbnRzIiwiaGFuZGxlQ3VycmVudFllYXIiLCJzaG93Q29va2llIiwiY2xvc2VNZW51IiwiY29uc29sZSIsImNoZWNrRm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja01haWwiLCJlIiwiY2hlY2tFcnJvcnMiLCJ3aW5kb3ciLCJjaGVja0Zvcm1TdWJtaXNzaW9uIiwiaGFuZGxlU2Nyb2xsU3B5IiwiY2xvc2luZ1BvcHVwIiwiZXNjYXBlS2V5Q2hlY2siLCJnZXRGdWxsWWVhciIsIm9wZW5NZW51IiwicHJldmVudERlZmF1bHQiLCJEYXRlIiwiaW5uZXJUZXh0IiwieWVhciIsImVycm9yTXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImNsZWFyRXJyb3IiLCJpbnB1dCIsInBhcmVudEVsZW1lbnQiLCJhZGQiLCJmb3JFYWNoIiwibXNnIiwiZWwiLCJyZW1vdmUiLCJyZSIsInRyaW0iLCJ0ZXN0Iiwic2hvd0Vycm9yIiwiYWxsRm9ybUJveGVzIiwidmFsdWUiLCJlcnJvckNvdW50Iiwic2V0VGltZW91dCIsImNsb3NlUG9wdXAiLCJuYXZMaXN0IiwiY29udGFpbnMiLCJpdGVtY2xvc2VNZW51IiwibmF2SWNvbiIsInRvZ2dsZSIsInNjcm9sbFNweVNlY3Rpb25zIiwic2VjdGlvbiIsInNjcm9sbFkiLCJhY3RpdmVTZWN0aW9uIiwibWVudUl0ZW1zIiwibGluayIsInNlY3Rpb25zIiwiaXRlbSIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsInB1c2giLCJjb25jYXQiLCJwb3B1cEltZyIsInNyYyIsImdldEF0dHJpYnV0ZSIsImJvZHkiLCJsYXN0U2VjdGlvbiIsImNvb2tpZUVhdGVuIiwic3R5bGUiLCJkaXNwbGF5IiwiaGFuZGxlQ29va2llQkJveCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJrZXkiLCJnZXRJdGVtIiwibWFpbiJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsTUFBUUMsU0FBU0MsY0FBYyxRQUFRLEVBQ3ZDQyxRQUFVRixTQUFTQyxjQUFjLG9CQUFvQixFQURyREYsTUFBUUMsU0FBU0MsY0FBYyxRQUFTLEVBQ3hDQyxVQUFVRixTQUFTQyxpQkFBYyxPQUFBLEVBQ2pDRSxLQUFRSCxTQUFTQyxlQUFjLE1BQVEsRUFDdkNHLFdBQVlKLFNBQVNLLGNBQWlCLGNBQVEsRUFDOUNDLFVBQU9OLFNBQVNPLGNBQXFCLGFBQUMsRUFDdENDLE9BQVVSLFNBQUdBLGNBQVNDLFNBQWMsRUFDcENRLFVBQVlULFNBQVNDLGlCQUFjLGVBQWMsRUFDakRTLGtCQUFrQlQsU0FBYUksaUJBQ3JDLDJCQUEyQkEsRUFJckJNLFVBQVlYLFNBQVNLLGlCQUFpQixXQUFZLEVBQ2xETyxZQUFjWixTQUFTQyxjQUFjLFlBQWEsRUFDbERZLFNBQVdiLFNBQVNDLGNBQWMsWUFBYSxFQUMvQ2EsVUFBWWQsU0FBU0MsY0FBYyxhQUFjLEVBQ2pEYyxVQUFZZixTQUFTQyxjQUFjLGFBQWMsRUFHdERlLEtBQUFBLFdBQUFBLGlCQUNBQyxFQUFBQSxrQkFDWSxFQUFaQyxXQUNTLEVBQ1RDLFVBQUEsQ0FFREMsRUFLRUMsa0JBTEZELFFBR01FLElBQUFBLFFBQUFBLEVBRWdCLFdBRnJCaEIsS0FHQ2lCLGlCQUFnQixTQUFBLFNBQUFDLEdBRmhCQSxFQUdBQyxlQUFhLEVBQ2RKLFVBQUVqQixTQUFBLEVBQ0ZFLFVBQUtnQixLQUFBQSxFQUNMSSxZQUFPSixDQUZQLENBR0FQLEVBRkFULEtBR0FOLGlCQUFTc0IsU0FBaUJLLG1CQUF3QixFQUZsREQsT0FH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QUFBLFFBQW1CLEdBRXJDVixVQUFBdEIsUUFBQSxTQUFBdUIsR0FBQSxPQUFBQSxFQUFBNUIsVUFBQVEsT0FBQSxRQUFBLENBQUEsQ0FBQSxHQUlJbEIsT0FBQUEsWUFBQUEsT0FBQUEsUUFBcUI3QixTQUFBNkUsS0FBQU4sZUFDbEJPLEVBQWM5RSxTQUFTQyxjQUFBLDJCQUFBLEVBRzFCNkIsVUFBQUEsUUFBaUIsU0FBQXVDLEdBQUEsT0FBakJ2QyxFQUFBQSxVQUFpQk4sT0FBSyxRQUFBLENBQUEsQ0FBQSxFQUUxQkssRUFBWVUsVUFBRUksSUFBQSxTQUFBLEVBRWYsQ0FBQSxFQUVELEVBVk1kLGNBWE5sQixVQTBCS29FLFFBQVcsU0FBQWpDLEdBekJmQSxFQTBCQ2hDLGlCQUFVeUIsUUFBYyxXQUN6QixJQUFBbUMsRUFBQTFFLFNBQUFDLGNBQUEsZ0JBQUEsRUFDQVksU0FBQW1FLE1BQUFDLFFBQUEsUUFFRFAsRUFBTVEsSUFBQUEsRUFBZ0JOLGFBQWhCTSxLQUFBQSxFQUNMQyxFQUFBQSxJQUFhQyxFQUFBQSxhQUFrQixLQUFBLENBMUIvQixDQTJCQXRFLENBQ0QsQ0FBQyxFQXZCb0IsV0FDcEJELFNBQVNtRSxNQUFNQyxRQUFVLE1BQzFCLEdBRU1uRCxlQUFpQixTQUFBTixHQUNSLFdBQVZBLEVBQUU2RCxLQUNMeEQsYUFBWSxDQUVkLEVBSU1YLFdBQWEsV0FDRWlFLGFBQWFHLFFBQVEsUUFBUSxHQUdoRHhFLFVBQVV5QixVQUFVSSxJQUFJLE1BQU0sQ0FFaEMsRUFFTXVDLGlCQUFtQixXQUN4QkMsYUFBYUMsUUFBUSxTQUFVLE1BQU0sRUFDckN0RSxVQUFVeUIsVUFBVUksSUFBSSxNQUFNLENBQy9CLEVBRUEzQyxTQUFTc0IsaUJBQWlCLG1CQUFvQmlFLElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpO1xyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2Zvcm0tYnRuJyk7XHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbmNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybScpO1xyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl95ZWFyJyk7XHJcbmNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJyk7XHJcbmNvbnN0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcclxuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmJhcl9faXRlbScpO1xyXG5jb25zdCBzY3JvbGxTcHlTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XCJbZGF0YS1zY3JvbGw9J3Njcm9sbHNweSddXCJcclxuKTtcclxuY29uc3QgYWxsSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnpvb20taW1nJyk7XHJcbmNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpO1xyXG5jb25zdCBwb3B1cEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1pbWcnKTtcclxuY29uc3QgY29va2llQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZS1ib3gnKTtcclxuY29uc3QgY29va2llQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZS1idG4nKTtcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUV2ZW50cygpO1xyXG5cdGhhbmRsZUN1cnJlbnRZZWFyKCk7XHJcblx0c2hvd0Nvb2tpZSgpO1xyXG5cdGNsb3NlTWVudSgpO1xyXG59O1xyXG5cclxuY29uc29sZS5sb2coJ29iamVjdCcpO1xyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Y2hlY2tGb3JtKGFsbElucHV0cyk7XHJcblx0XHRjaGVja01haWwoZW1haWwpO1xyXG5cdFx0Y2hlY2tFcnJvcnMoKTtcclxuXHR9KTtcclxuXHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGNoZWNrRm9ybVN1Ym1pc3Npb24pO1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGxTcHkpO1xyXG5cdGNvb2tpZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNvb2tpZUJCb3gpO1xyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXNjYXBlS2V5Q2hlY2spO1xyXG5cdGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2luZ1BvcHVwKTtcclxuXHRwb3B1cEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NpbmdQb3B1cCk7XHJcblx0YnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1lbnUpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Zvcm1TdWJtaXNzaW9uID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKTtcclxuXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gbXNnO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwudmFsdWUudHJpbSgpID09PSAnJykge1xyXG5cdFx0XHRzaG93RXJyb3IoZWwsICdUbyBwb2xlIG5pZSBtb8W8ZSBwb3pvc3RhxIcgcHVzdGUnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoZWwpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tNYWlsID0gZW1haWwgPT4ge1xyXG5cdGNvbnN0IHJlID1cclxuXHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuXHJcblx0aWYgKHJlLnRlc3QoZW1haWwudmFsdWUudHJpbSgpKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbCk7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSBlbHNlIGlmIChlbWFpbC52YWx1ZS50cmltKCkgPT09ICcnKSB7XHJcblx0XHRzaG93RXJyb3IoZW1haWwsICdUbyBwb2xlIG5pZSBtb8W8ZSBwb3pvc3RhxIcgcHVzdGUnKTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoZW1haWwsICdFLW1haWwgamVzdCBuaWVwb3ByYXdueScpO1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBvcHVwJyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxGb3JtQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdF9fZm9ybS1ib3gnKTtcclxuXHRsZXQgZXJyb3JDb3VudCA9IDA7XHJcblxyXG5cdGFsbEZvcm1Cb3hlcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdy1wb3B1cCcpO1xyXG5cdFx0c2V0VGltZW91dChjbG9zZVBvcHVwLCAyMDAwKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBlcnJvckNvdW50O1xyXG59O1xyXG5cclxuLy8gYnVyZ2VyIGJ0blxyXG5cclxuY29uc3Qgb3Blbk1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2xpc3QnKTtcclxuXHRuYXZMaXN0LmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhcl9fbGlzdC0tYWN0aXZlJyk7XHJcbn07XHJcblxyXG4vLyBjbG9zZSBtZW51XHJcblxyXG5jb25zdCBpdGVtY2xvc2VNZW51ID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19saXN0Jyk7XHJcblx0bmF2TGlzdC5jbGFzc0xpc3QucmVtb3ZlKCduYXZiYXJfX2xpc3QtLWFjdGl2ZScpO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNZW51ID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19pY29uJyk7XHJcblx0Y29uc3QgbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyX19pdGVtJyk7XHJcblx0bmF2SXRlbXMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGl0ZW1jbG9zZU1lbnUpO1xyXG5cdH0pO1xyXG5cclxuXHRuYXZJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaXRlbWNsb3NlTWVudSk7XHJcbn07XHJcblxyXG4vLyBzY3JvbGwgc3B5XHJcblxyXG5jb25zdCBoYW5kbGVTY3JvbGxTcHkgPSAoKSA9PiB7XHJcblx0aWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLXBhZ2UnKSkge1xyXG5cdFx0Y29uc3Qgc2VjdGlvbnMgPSBbXTtcclxuXHJcblx0XHRzY3JvbGxTcHlTZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0d2luZG93LnNjcm9sbFkgPD1cclxuXHRcdFx0XHRzZWN0aW9uLm9mZnNldFRvcCArIHNlY3Rpb24ub2Zmc2V0SGVpZ2h0IC0gbmF2YmFyLm9mZnNldEhlaWdodCAtIDFcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0c2VjdGlvbnMucHVzaChzZWN0aW9uKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgYWN0aXZlU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0XHRgW2hyZWYqPVwiJHtzZWN0aW9uc1swXS5pZH1cIl1gXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKGFjdGl2ZVNlY3Rpb24pIHtcclxuXHRcdFx0XHRcdG1lbnVJdGVtcy5mb3JFYWNoKGxpbmsgPT4gbGluay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcblx0XHRcdFx0XHRhY3RpdmVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRtZW51SXRlbXMuZm9yRWFjaChsaW5rID0+IGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHdpbmRvdy5pbm5lckhlaWdodCArIHdpbmRvdy5zY3JvbGxZID4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQpIHtcclxuXHRcdFx0XHRjb25zdCBsYXN0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXItaXRlbTpsYXN0LW9mLXR5cGUnKTtcclxuXHJcblx0XHRcdFx0bWVudUl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuXHJcblx0XHRcdFx0bGFzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnLmFjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyB6b29tIGltZ1xyXG5cclxuYWxsSW1hZ2VzLmZvckVhY2goZWwgPT4ge1xyXG5cdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0Y29uc3QgcG9wdXBJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW1nIGltZycpO1xyXG5cdFx0cG9wdXBCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRwb3B1cEltZy5zcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xyXG5cdFx0cG9wdXBJbWcuYWx0ID0gZWwuZ2V0QXR0cmlidXRlKCdhbHQnKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG4vLyBjbG9zZSBpbWdcclxuXHJcbmNvbnN0IGNsb3NpbmdQb3B1cCA9ICgpID0+IHtcclxuXHRwb3B1cEJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG59O1xyXG5cclxuY29uc3QgZXNjYXBlS2V5Q2hlY2sgPSBlID0+IHtcclxuXHRpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcblx0XHRjbG9zaW5nUG9wdXAoKTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBjb29raWVzXHJcblxyXG5jb25zdCBzaG93Q29va2llID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNvb2tpZUVhdGVuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvb2tpZScpO1xyXG5cclxuXHRpZiAoY29va2llRWF0ZW4pIHtcclxuXHRcdGNvb2tpZUJveC5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ29va2llQkJveCA9ICgpID0+IHtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29va2llJywgJ3RydWUnKTtcclxuXHRjb29raWVCb3guY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pO1xyXG4iXX0=
