"use strict";AOS.init();var email=document.querySelector("#email"),sendBtn=document.querySelector(".contact__form-btn"),popup=document.querySelector(".popup"),allInputs=document.querySelectorAll("input"),footerYear=document.querySelector(".footer_year"),burgerBtn=document.querySelector(".burger-btn"),navbar=document.querySelector(".navbar"),menuItems=document.querySelectorAll(".navbar__item"),scrollSpySections=document.querySelectorAll(".scrollspy"),sections=document.querySelectorAll(".section"),allImages=document.querySelectorAll(".zoom-img"),closeButton=document.querySelector(".close-btn"),popupBox=document.querySelector(".popup-img"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},showError=(handleCurrentYear(),function(e,o){var e=e.parentElement,t=e.querySelector(".error-text");e.classList.add("error"),t.textContent=o}),clearError=function(e){e=e.parentElement;console.log(e),e.classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,"Uzupe≈Çnij pole *"):clearError(e)})},checkMail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")},closePopup=function(){popup.classList.remove("show-popup")},checkErrors=function(){var e=document.querySelectorAll(".contact__form-box"),o=0;e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&(popup.classList.add("show-popup"),setTimeout(closePopup,2e3))},openMenu=(sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm(allInputs),checkMail(email),checkErrors()}),function(){document.querySelector(".navbar__list").classList.toggle("navbar__list--active")}),itemcloseMenu=(burgerBtn.addEventListener("click",openMenu),function(){document.querySelector(".navbar__list").classList.remove("navbar__list--active")}),closeMenu=function(){var e=document.querySelector(".navbar__icon");document.querySelectorAll(".navbar__item").forEach(function(e){e.addEventListener("click",itemcloseMenu)}),e.addEventListener("click",itemcloseMenu)},handleScrollSpy=(closeMenu(),function(){var o;document.body.classList.contains("main-page")&&(o=[],scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-navbar.offsetHeight-1&&(o.push(e),e=document.querySelector('[href*="'.concat(o[0].id,'"]')),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active")),window.innerHeight+window.scrollY>document.body.offsetHeight&&(e=document.querySelector(".navbar-item:last-of-type"),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add(".active"))}))}),closingPopup=(window.addEventListener("scroll",handleScrollSpy),allImages.forEach(function(o){o.addEventListener("click",function(){var e=document.querySelector(".popup-img img");popupBox.style.display="block",e.src=o.getAttribute("src"),e.alt=o.getAttribute("alt")})}),function(){popupBox.style.display="none"}),escapeKeyCheck=function(e){"Escape"===e.key&&closingPopup()},cookieBox=(document.addEventListener("keyup",escapeKeyCheck),closeButton.addEventListener("click",closingPopup),popupBox.addEventListener("click",closingPopup),document.querySelector(".cookie-box")),cookieBtn=document.querySelector(".cookie-btn"),showCookie=function(){localStorage.getItem("cookie")&&cookieBox.classList.add("hide")},handleCookieBBox=function(){localStorage.setItem("cookie","true"),cookieBox.classList.add("hide")};cookieBtn.addEventListener("click",handleCookieBBox),showCookie();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQU9TIiwiaW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVtYWlsIiwic2VuZEJ0biIsInBvcHVwIiwiYWxsSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvb3RlclllYXIiLCJidXJnZXJCdG4iLCJuYXZiYXIiLCJtZW51SXRlbXMiLCJzY3JvbGxTcHlTZWN0aW9ucyIsInNlY3Rpb25zIiwiYWxsSW1hZ2VzIiwiY2xvc2VCdXR0b24iLCJoYW5kbGVDdXJyZW50WWVhciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJlcnJvck1zZyIsImZvcm1Cb3giLCJjbGFzc0xpc3QiLCJwYXJlbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJtc2ciLCJjbGVhckVycm9yIiwiYWRkIiwiaW5wdXQiLCJjaGVja0Zvcm0iLCJjb25zb2xlIiwiZm9yRWFjaCIsImVsIiwicmVtb3ZlIiwidmFsdWUiLCJzaG93RXJyb3IiLCJjaGVja01haWwiLCJ0ZXN0IiwiY2hlY2tFcnJvcnMiLCJlcnJvckNvdW50IiwiY2xvc2VQb3B1cCIsInNldFRpbWVvdXQiLCJhbGxGb3JtQm94ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJjb250YWlucyIsIm5hdkl0ZW1zIiwiZSIsIml0ZW1jbG9zZU1lbnUiLCJuYXZMaXN0Iiwib3Blbk1lbnUiLCJoYW5kbGVTY3JvbGxTcHkiLCJjbG9zZU1lbnUiLCJzY3JvbGxZIiwibmF2SWNvbiIsInNlY3Rpb24iLCJhY3RpdmVTZWN0aW9uIiwiYm9keSIsIndpbmRvdyIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsInBvcHVwQm94IiwiY29uY2F0IiwiZ2V0QXR0cmlidXRlIiwiaXRlbSIsInN0eWxlIiwibGFzdFNlY3Rpb24iLCJzaG93Q29va2llIiwibG9jYWxTdG9yYWdlIiwiY29va2llRWF0ZW4iLCJjb29raWVCb3giLCJwb3B1cEltZyIsInNyYyIsImFsdCIsImRpc3BsYXkiLCJlc2NhcGVLZXlDaGVjayIsImtleSIsImNsb3NpbmdQb3B1cCIsImNvb2tpZUJ0biIsImdldEl0ZW0iLCJoYW5kbGVDb29raWVCQm94Iiwic2V0SXRlbSJdLCJtYXBwaW5ncyI6ImFBQUFBLElBQUlDLEtBQUksRUFBUkQsSUFBSUMsTUFBTUMsU0FBQUMsY0FBQSxRQUFBLEVBRUpDLFFBQVFGLFNBQVNDLGNBQWMsb0JBQVMsRUFDeENFLE1BQVVILFNBQVNDLGNBQWMsUUFBQSxFQUNqQ0csVUFBUUosU0FBU0MsaUJBQXVCLE9BQUEsRUFDeENJLFdBQVlMLFNBQVNNLGNBQWlCLGNBQVEsRUFDOUNDLFVBQWFQLFNBQVNDLGNBQWMsYUFBYyxFQUNsRE8sT0FBU1IsU0FBV0MsY0FBYyxTQUFDLEVBQ25DUSxVQUFTVCxTQUFTQyxpQkFBYyxlQUFVLEVBQzFDUyxrQkFBcUJKLFNBQUFBLGlCQUFpQixZQUFnQixFQUN0REssU0FBQUEsU0FBb0JYLGlCQUFTTSxVQUFpQixFQUM5Q00sVUFBV1osU0FBU00saUJBQWlCLFdBQVcsRUFDaERPLFlBQVliLFNBQVNNLGNBQWlCLFlBQVksRUFDbERRLFNBQVdkLFNBQVdDLGNBQWMsWUFBQyxFQUdyQ2Msa0JBQW9CLFdBQ3pCLElBQU1DLEdBQU8sSUFBSUMsTUFBT0MsWUFBVyxFQUNuQ1gsV0FBVVksVUFBVUgsQ0FDckIsRUFNT0ksV0FGUEwsa0JBQWtCLEVBRUFNLFNBQUFBLEVBQVFwQixHQUR6QixJQUdBb0IsRUFBUUMsRUFBYUMsY0FDckJILEVBQVNJLEVBQWNDLGNBQUcsYUFBQSxFQUczQkosRUFBTUssVUFBYUMsSUFBQSxPQUFiRCxFQUhMTixFQUlNQyxZQUFnQkUsQ0FIdkIsR0FNQ0csV0FBQSxTQUFBRSxHQUVLQyxFQUFZRCxFQUFBTCxjQUpqQk8sUUFLTUMsSUFBQUEsQ0FBUSxFQUpkVixFQUtLVyxVQUFRQyxPQUFTLE9BQUEsQ0FKdkIsRUFPR1AsVUFBV00sU0FBQUEsR0FKYkosRUFLQ0csUUFBQSxTQUFBQyxHQUNDLEtB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LENBRWQsRUFTTVAsV0FQTnRFLFNBQVMyQyxpQkFBaUIsUUFBU2dDLGNBQWMsRUFFakQ3RCxZQUFZNkIsaUJBQWlCLFFBQVNrQyxZQUFZLEVBQ2xEaEIsU0FBU2xCLGlCQUFpQixRQUFTa0MsWUFBWSxFQUk3QjdFLFNBQVNDLGNBQWMsYUFBYSxHQUNoRDZFLFVBQVk5RSxTQUFTQyxjQUFjLGFBQWEsRUFFaERrRSxXQUFhLFdBQ0VDLGFBQWFXLFFBQVEsUUFBUSxHQUdoRFQsVUFBVWhELFVBQVVLLElBQUksTUFBTSxDQUVoQyxFQUVNcUQsaUJBQW1CLFdBQ3hCWixhQUFhYSxRQUFRLFNBQVUsTUFBTSxFQUNyQ1gsVUFBVWhELFVBQVVLLElBQUksTUFBTSxDQUMvQixFQUVBbUQsVUFBVW5DLGlCQUFpQixRQUFTcUMsZ0JBQWdCLEVBQ3BEYixXQUFVIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiQU9TLmluaXQoKTtcclxuXHJcbmNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsJyk7XHJcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1idG4nKTtcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuY29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfeWVhcicpO1xyXG5jb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpO1xyXG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XHJcbmNvbnN0IG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXJfX2l0ZW0nKTtcclxuY29uc3Qgc2Nyb2xsU3B5U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsc3B5Jyk7XHJcbmNvbnN0IHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKTtcclxuY29uc3QgYWxsSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnpvb20taW1nJyk7XHJcbmNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpO1xyXG5jb25zdCBwb3B1cEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1pbWcnKTtcclxuXHJcbmNvbnN0IGhhbmRsZUN1cnJlbnRZZWFyID0gKCkgPT4ge1xyXG5cdGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyO1xyXG59O1xyXG5cclxuaGFuZGxlQ3VycmVudFllYXIoKTtcclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XHJcblxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZztcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Y29uc29sZS5sb2coZm9ybUJveCk7XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tGb3JtID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKGVsLnZhbHVlID09PSAnJykge1xyXG5cdFx0XHRzaG93RXJyb3IoZWwsICdVenVwZcWCbmlqIHBvbGUgKicpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja01haWwgPSBlbWFpbCA9PiB7XHJcblx0Y29uc3QgcmUgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xyXG5cclxuXHRpZiAocmUudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuXHRcdGNsZWFyRXJyb3IoZW1haWwpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoZW1haWwsICdFLW1haWwgamVzdCBuaWVwb3ByYXdueScpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1wb3B1cCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsRm9ybUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3RfX2Zvcm0tYm94Jyk7XHJcblx0bGV0IGVycm9yQ291bnQgPSAwO1xyXG5cclxuXHRhbGxGb3JtQm94ZXMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcblx0XHRcdGVycm9yQ291bnQrKztcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0aWYgKGVycm9yQ291bnQgPT09IDApIHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3ctcG9wdXAnKTtcclxuXHRcdHNldFRpbWVvdXQoY2xvc2VQb3B1cCwgMjAwMCk7XHJcblx0fVxyXG5cclxuXHRlcnJvckNvdW50O1xyXG59O1xyXG5cclxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjaGVja0Zvcm0oYWxsSW5wdXRzKTtcclxuXHRjaGVja01haWwoZW1haWwpO1xyXG5cdGNoZWNrRXJyb3JzKCk7XHJcbn0pO1xyXG5cclxuLy8gYnVyZ2VyIGJ0blxyXG5cclxuY29uc3Qgb3Blbk1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2xpc3QnKTtcclxuXHRuYXZMaXN0LmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhcl9fbGlzdC0tYWN0aXZlJyk7XHJcbn07XHJcblxyXG5idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTWVudSk7XHJcblxyXG4vLyBjbG9zZSBtZW51XHJcblxyXG5jb25zdCBpdGVtY2xvc2VNZW51ID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19saXN0Jyk7XHJcblx0bmF2TGlzdC5jbGFzc0xpc3QucmVtb3ZlKCduYXZiYXJfX2xpc3QtLWFjdGl2ZScpO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNZW51ID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19pY29uJyk7XHJcblx0Y29uc3QgbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyX19pdGVtJyk7XHJcblx0bmF2SXRlbXMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGl0ZW1jbG9zZU1lbnUpO1xyXG5cdH0pO1xyXG5cclxuXHRuYXZJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaXRlbWNsb3NlTWVudSk7XHJcbn07XHJcblxyXG5jbG9zZU1lbnUoKTtcclxuXHJcbi8vIHNjcm9sbCBzcHlcclxuXHJcbmNvbnN0IGhhbmRsZVNjcm9sbFNweSA9ICgpID0+IHtcclxuXHRpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGFnZScpKSB7XHJcblx0XHRjb25zdCBzZWN0aW9ucyA9IFtdO1xyXG5cclxuXHRcdHNjcm9sbFNweVNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR3aW5kb3cuc2Nyb2xsWSA8PVxyXG5cdFx0XHRcdHNlY3Rpb24ub2Zmc2V0VG9wICsgc2VjdGlvbi5vZmZzZXRIZWlnaHQgLSBuYXZiYXIub2Zmc2V0SGVpZ2h0IC0gMVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRzZWN0aW9ucy5wdXNoKHNlY3Rpb24pO1xyXG5cclxuXHRcdFx0XHRjb25zdCBhY3RpdmVTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0XHRcdGBbaHJlZio9XCIke3NlY3Rpb25zWzBdLmlkfVwiXWBcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRtZW51SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG5cclxuXHRcdFx0XHRhY3RpdmVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAod2luZG93LmlubmVySGVpZ2h0ICsgd2luZG93LnNjcm9sbFkgPiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCkge1xyXG5cdFx0XHRcdGNvbnN0IGxhc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhci1pdGVtOmxhc3Qtb2YtdHlwZScpO1xyXG5cclxuXHRcdFx0XHRtZW51SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG5cclxuXHRcdFx0XHRsYXN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCcuYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGxTcHkpO1xyXG5cclxuLy8gem9vbSBpbWdcclxuXHJcbmFsbEltYWdlcy5mb3JFYWNoKGVsID0+IHtcclxuXHRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdGNvbnN0IHBvcHVwSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWltZyBpbWcnKTtcclxuXHRcdHBvcHVwQm94LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0cG9wdXBJbWcuc3JjID0gZWwuZ2V0QXR0cmlidXRlKCdzcmMnKTtcclxuXHRcdHBvcHVwSW1nLmFsdCA9IGVsLmdldEF0dHJpYnV0ZSgnYWx0Jyk7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuLy8gY2xvc2UgaW1nXHJcblxyXG5jb25zdCBjbG9zaW5nUG9wdXAgPSAoKSA9PiB7XHJcblx0cG9wdXBCb3guc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxufTtcclxuXHJcbmNvbnN0IGVzY2FwZUtleUNoZWNrID0gZSA9PiB7XHJcblx0aWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG5cdFx0Y2xvc2luZ1BvcHVwKCk7XHJcblx0fVxyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlc2NhcGVLZXlDaGVjayk7XHJcblxyXG5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NpbmdQb3B1cCk7XHJcbnBvcHVwQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2luZ1BvcHVwKTtcclxuXHJcbi8vIGNvb2tpZXNcclxuXHJcbmNvbnN0IGNvb2tpZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtYm94Jyk7XHJcbmNvbnN0IGNvb2tpZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtYnRuJyk7XHJcblxyXG5jb25zdCBzaG93Q29va2llID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNvb2tpZUVhdGVuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvb2tpZScpO1xyXG5cclxuXHRpZiAoY29va2llRWF0ZW4pIHtcclxuXHRcdGNvb2tpZUJveC5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ29va2llQkJveCA9ICgpID0+IHtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29va2llJywgJ3RydWUnKTtcclxuXHRjb29raWVCb3guY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG59O1xyXG5cclxuY29va2llQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29va2llQkJveCk7XHJcbnNob3dDb29raWUoKTtcclxuIl19
