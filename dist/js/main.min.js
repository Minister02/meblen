"use strict";var email=document.querySelector("#email"),sendBtn=document.querySelector(".contact__form-btn"),popup=document.querySelector(".popup"),allInputs=document.querySelectorAll("input"),textArea=document.querySelector("#msg"),footerYear=document.querySelector(".footer_year"),burgerBtn=document.querySelector(".burger-btn"),navbar=document.querySelector(".navbar"),menuItems=document.querySelectorAll(".navbar__item"),scrollSpySections=document.querySelectorAll("[data-scroll='scrollspy']"),allImages=document.querySelectorAll(".zoom-img"),closeButton=document.querySelector(".close-btn"),popupBox=document.querySelector(".popup-img"),cookieBox=document.querySelector(".cookie-box"),cookieBtn=document.querySelector(".cookie-btn"),main=function(){prepareDOMEvents(),handleCurrentYear(),showCookie(),closeMenu()},prepareDOMEvents=function(){form.addEventListener("submit",function(e){e.preventDefault(),checkMail(email)?(popup.classList.add("show-popup"),setTimeout(closePopup,2e3),clearInputs(allInputs),clearError(email)):showError(email,"Podany adres mailowy jest niepoprawny")}),window.addEventListener("scroll",handleScrollSpy),cookieBtn.addEventListener("click",handleCookieBBox),document.addEventListener("keyup",escapeKeyCheck),closeButton.addEventListener("click",closingPopup),popupBox.addEventListener("click",closingPopup),burgerBtn.addEventListener("click",openMenu)},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},showError=function(e,t){var e=e.parentElement,o=e.querySelector(".error-text");e.classList.add("error"),o.textContent=t},clearError=function(e){e.parentElement.classList.remove("error")},clearInputs=function(e){e.forEach(function(e){e.value=""}),textArea.value=""},checkMail=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.trim())},closePopup=function(){popup.classList.remove("show-popup")},openMenu=function(){document.querySelector(".navbar__list").classList.toggle("navbar__list--active")},itemcloseMenu=function(){document.querySelector(".navbar__list").classList.remove("navbar__list--active")},closeMenu=function(){var e=document.querySelector(".navbar__icon");document.querySelectorAll(".navbar__item").forEach(function(e){e.addEventListener("click",itemcloseMenu)}),e.addEventListener("click",itemcloseMenu)},handleScrollSpy=function(){var t;document.body.classList.contains("main-page")&&(t=[],scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-navbar.offsetHeight-1&&(t.push(e),(e=document.querySelector('[href*="'.concat(t[0].id,'"]')))?(menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active")):menuItems.forEach(function(e){return e.classList.remove("active")})),window.innerHeight+window.scrollY>document.body.offsetHeight&&(e=document.querySelector(".navbar-item:last-of-type"),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add(".active"))}))},closingPopup=(allImages.forEach(function(t){t.addEventListener("click",function(){var e=document.querySelector(".popup-img img");popupBox.style.display="block",e.src=t.getAttribute("src"),e.alt=t.getAttribute("alt")})}),function(){popupBox.style.display="none"}),escapeKeyCheck=function(e){"Escape"===e.key&&closingPopup()},showCookie=function(){localStorage.getItem("cookie")&&cookieBox.classList.add("hide")},handleCookieBBox=function(){localStorage.setItem("cookie","true"),cookieBox.classList.add("hide")};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZW1haWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZW5kQnRuIiwicG9wdXAiLCJ0ZXh0QXJlYSIsImJ1cmdlckJ0biIsImZvb3RlclllYXIiLCJuYXZiYXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWxsSW1hZ2VzIiwiY2xvc2VCdXR0b24iLCJwb3B1cEJveCIsImNvb2tpZUJveCIsImNvb2tpZUJ0biIsInByZXBhcmVET01FdmVudHMiLCJoYW5kbGVDdXJyZW50WWVhciIsInNob3dDb29raWUiLCJjbG9zZU1lbnUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNsYXNzTGlzdCIsInNldFRpbWVvdXQiLCJjbG9zZVBvcHVwIiwiY2xlYXJJbnB1dHMiLCJhbGxJbnB1dHMiLCJjbGVhckVycm9yIiwic2hvd0Vycm9yIiwid2luZG93IiwiaGFuZGxlU2Nyb2xsU3B5IiwiY2xvc2luZ1BvcHVwIiwiZXNjYXBlS2V5Q2hlY2siLCJnZXRGdWxsWWVhciIsIm9wZW5NZW51IiwiZm9ybUJveCIsImlucHV0IiwicGFyZW50RWxlbWVudCIsImVycm9yTXNnIiwieWVhciIsIm1zZyIsImFkZCIsInJlbW92ZSIsImlucHV0cyIsImZvckVhY2giLCJpdGVtIiwidmFsdWUiLCJjaGVja01haWwiLCJ0ZXN0IiwidHJpbSIsIm5hdkl0ZW1zIiwiaXRlbWNsb3NlTWVudSIsImJvZHkiLCJuYXZJY29uIiwic2Nyb2xsU3B5U2VjdGlvbnMiLCJzZWN0aW9uIiwic2Nyb2xsWSIsImVsIiwic2VjdGlvbnMiLCJsaW5rIiwibWVudUl0ZW1zIiwib2Zmc2V0SGVpZ2h0IiwicHVzaCIsImFjdGl2ZVNlY3Rpb24iLCJjb25jYXQiLCJpZCIsInBvcHVwSW1nIiwiYWx0IiwiZ2V0QXR0cmlidXRlIiwibGFzdFNlY3Rpb24iLCJsb2NhbFN0b3JhZ2UiLCJzdHlsZSIsImRpc3BsYXkiLCJjb29raWVFYXRlbiIsImdldEl0ZW0iLCJzZXRJdGVtIiwia2V5IiwiaGFuZGxlQ29va2llQkJveCIsIm1haW4iXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLE1BQVFDLFNBQVNDLGNBQWMsUUFBUSxFQUN2Q0MsUUFBVUYsU0FBU0MsY0FBYyxvQkFBb0IsRUFEckRGLE1BQVFDLFNBQVNDLGNBQWMsUUFBUyxFQUN4Q0MsVUFBVUYsU0FBU0MsaUJBQWMsT0FBQSxFQUNqQ0UsU0FBUUgsU0FBU0MsY0FBYyxNQUFTLEVBRXhDRyxXQUFXSixTQUFTQyxjQUFjLGNBQU8sRUFDL0NJLFVBQUFMLFNBQUFDLGNBQUEsYUFBQSxFQUNNSyxPQUFVTixTQUFHQSxjQUFTQyxTQUFjLEVBQ3BDSSxVQUFZTCxTQUFTQyxpQkFBYyxlQUFjLEVBQ2pETSxrQkFBa0JOLFNBQWFPLGlCQUNyQywyQkFBMkJBLEVBSXJCQyxVQUFZVCxTQUFTUSxpQkFBaUIsV0FBWSxFQUNsREUsWUFBY1YsU0FBU0MsY0FBYyxZQUFhLEVBQ2xEVSxTQUFXWCxTQUFTQyxjQUFjLFlBQWEsRUFDL0NXLFVBQVlaLFNBQVNDLGNBQWMsYUFBYyxFQUNqRFksVUFBWWIsU0FBU0MsY0FBYyxhQUFjLEVBR3REYSxLQUFBQSxXQUFBQSxpQkFDQUMsRUFBQUEsa0JBQ1ksRUFBWkMsV0FDUyxFQUNUQyxVQUFBLENBRUQsRUFFSUMsaUJBQWdCLFdBRG5CQyxLQUVDQyxpQkFBbUIsU0FBRyxTQUFBQyxHQUR0QkEsRUFBRUgsZUFFS0ksRUFDTkMsVUFBVXhCLEtBQUN5QixHQURYckIsTUFFQXNCLFVBQVlDLElBQUFBLFlBQVUsRUFEdEJILFdBRUFJLFdBQWlCLEdBQUEsRUFEakJGLFlBRU1DLFNBQUEsRUFETkMsV0FFQUMsS0FBVTdCLEdBQVY2QixVQUVEN0IsTUFBQSx1Q0FBQSxDQUNELENBR0FjLEVBREFnQixPQUdBbkIsaUJBQVlVLFNBQWlCVSxlQUFTQyxFQUZ0Q2xCLFVBR1NPLGlCQUFpQixRQUFTVyxnQkFBYSxFQUZoRC9CLFNBR0FLLGlCQUFVZSxRQUF3QlksY0FBVyxFQUM3Q3RCLFlBQUFVLGlCQUFBLFFBQUFXLFlBQUEsRUFFRHBCLFNBQU1JLGlCQUFvQixRQUFwQkEsWUFBQUEsRUFITFYsVUFJVWUsaUJBQWNhLFFBQWFDLFFBQUEsQ0FIdEMsRUFPTU4sa0JBQUFBLFdBSkwsSUFLTU8sR0FBTyxJQUFHQyxNQUFNQyxZQUFhLEVBSm5DL0IsV0FLTWdDLFVBQWtCQyxDQUp6QixFQVFDWCxVQUFBLFNBQUFRLEVBQUFJLEdBRUQsSUFBTWIsRUFBYVMsRUFBQUMsY0FDWkYsRUFBVUMsRUFBTUMsY0FBYSxhQUFBLEVBRW5DRixFQUFBYixVQUFBbUIsSUFBQSxPQUFBLEVBRURILEVBQU1iLFlBQWNlLENBUHBCLEVBVUdiLFdBQUEsU0FBQVMsR0FDWUEsRUFBS0MsY0FDbkJmLFVBQUFvQixPQUFBLE9BQUEsQ0FQRCxFQVVBakIsWUFBQSxTQUFBa0IsR0FDQUEsRUFBQUMsUUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxNQUFBLEVBQ0EsQ0FBQSxFQUNBMUMsU0FBQTBDLE1BQUEsRUFDQSxFQWVBQyxVQUFBLFNBQUFoRCxHQUNBLE1BQUEsd0pBQUFpRCxLQVZFakQsRUFBTStDLE1BQU1HLEtBQUksQ0FBRSxDQWFwQixFQUVBekIsV0FBQSxXQUNBckIsTUFBQW1CLFVBQUFvQixPQUFBLFlBQUEsQ0FWQSxFQWtDTXpCLFNBQVksV0FDRGpCLFNBQVNDLGNBQWMsZUFBZ0IsRUFDakRpRCxVQUFXbEQsT0FBU1Esc0JBQWlCLENBWDVDLEVBaUJDMkMsY0FBQSxXQVpnQm5ELFNBQVNDLGNBQWMsZUFBZSxFQWN2RHFCLFVBQUFvQixPQUFBLHNCQUFBLENBWkEsRUFlSzFDLFVBQVNvRCxXQVpiLElBYUNDLEVBQWNyRCxTQUFLQyxjQUFBLGVBQUEsRUFFbkJxRCxTQUFrQlYsaUJBQVFXLGVBQVcsRUFFbkMxQixRQUFPMkIsU0FBQUEsR0FkVEMsRUFBR3JDLGlCQWlCYW1DLFFBQVFKLGFBQUEsQ0FoQnpCLENBQUMsRUFFREUsRUFBUWpDLGlCQXFCTXdCLFFBQVFPLGFBQUksQ0FwQjNCLEVBSU1yQixnQkFtQlNjLFdBbEJkLElBQ09jLEVBREgxRCxTQWtCc0JvRCxLQUFJTyxVQUFLckMsU0FBVW9CLFdBQWUsSUFqQnJEZ0IsRUFpQnVELEdBZjdESixrQkFpQkNWLFFBQUEsU0FBQVcsR0FmQzFCLE9Ba0JBMkIsU0FqQkFELEVBbUJBSyxVQUFVaEIsRUFBUWlCLGFBQUl0RCxPQUFBc0QsYUFBQSxJQWpCdEJILEVBaUIwREksS0FBQVAsQ0FBQSxHQUczRFEsRUFBQS9ELFNBQUFDLGNBQUEsV0FBQStELE9BQ0NOLEVBQUEsR0FBQU8sR0FBQSxJQUFBLENBQUEsSUFJSkwsVUFBQWhCLFFBQUEsU0FBQWUsR0FBQSxPQUFBQSxFQUFBckMsVUFBQW9CLE9BQUEsUUFBQSxDQUFBLENBQUEsRUFqQktxQixFQUFjekMsVUFBVW1CLElBQUksUUFBUSxHQW9CckNyQixVQUFBQSxRQUFpQixTQUFBdUMsR0FBQSxPQUFTQSxFQUFBckMsVUFBTW9CLE9BQUEsUUFBQSxDQUFBLENBQUEsR0FJbEN3QixPQUFTQyxZQUFTQyxPQUFhWixRQUFNeEQsU0FBQW9ELEtBQUFTLGVBQ3BDUSxFQUFBckUsU0FBQUMsY0FBQSwyQkFBQSxFQWhCQzJELFVBQVVoQixRQUFRLFNBQUFDLEdBQUksT0FBSUEsRUFBS3ZCLFVBQVVvQixPQUFPLFFBQVEsQ0FBQyxDQUFBLEVBRXpEMkIsRUFBWS9DLFVBQVVtQixJQUFJLFNBQVMsRUFvQnRDOUIsQ0FBQUEsRUFHRCxFQWlCQzJELGNBYkQ3RCxVQUFDbUMsUUFBQSxTQUFBYSxHQWxCQUEsRUFBR3JDLGlCQUFpQixRQUFTLFdBb0I5QixJQUFBOEMsRUFBQWxFLFNBQUFDLGNBQUEsZ0JBQUEsRUFsQkVVLFNBQVM0RCxNQUFNQyxRQUFVLFFBb0IzQk4sRUFBTWxELElBQWF5QyxFQUFBVyxhQUFicEQsS0FBVSxFQUNma0QsRUFBTU8sSUFBV2hCLEVBQUdhLGFBQWFJLEtBQUFBLENBbEJqQyxDQW9CQSxDQW5CRCxDQUFDLEVBeUJhQyxXQXBCYmhFLFNBcUJBQyxNQUFVVSxRQUFjLE1BQ3pCLEdBbkJNVSxlQUFpQixTQUFBWCxHQUNSLFdBQVZBLEVBQUV1RCxLQUNMN0MsYUFBWSxDQUVkLEVBSU1mLFdBQWEsV0FDRXNELGFBQWFJLFFBQVEsUUFBUSxHQUdoRDlELFVBQVVVLFVBQVVtQixJQUFJLE1BQU0sQ0FFaEMsRUFFTW9DLGlCQUFtQixXQUN4QlAsYUFBYUssUUFBUSxTQUFVLE1BQU0sRUFDckMvRCxVQUFVVSxVQUFVbUIsSUFBSSxNQUFNLENBQy9CLEVBRUF6QyxTQUFTb0IsaUJBQWlCLG1CQUFvQjBELElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpO1xyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2Zvcm0tYnRuJyk7XHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbmNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbmNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZycpO1xyXG4vLyBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0nKTtcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfeWVhcicpO1xyXG5jb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpO1xyXG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XHJcbmNvbnN0IG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXJfX2l0ZW0nKTtcclxuY29uc3Qgc2Nyb2xsU3B5U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFwiW2RhdGEtc2Nyb2xsPSdzY3JvbGxzcHknXVwiXHJcbik7XHJcbmNvbnN0IGFsbEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy56b29tLWltZycpO1xyXG5jb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1idG4nKTtcclxuY29uc3QgcG9wdXBCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW1nJyk7XHJcbmNvbnN0IGNvb2tpZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtYm94Jyk7XHJcbmNvbnN0IGNvb2tpZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtYnRuJyk7XHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FdmVudHMoKTtcclxuXHRoYW5kbGVDdXJyZW50WWVhcigpO1xyXG5cdHNob3dDb29raWUoKTtcclxuXHRjbG9zZU1lbnUoKTtcclxufTtcclxuXHJcbmNvbnN0IHByZXBhcmVET01FdmVudHMgPSAoKSA9PiB7XHJcblx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGlmIChjaGVja01haWwoZW1haWwpKSB7XHJcblx0XHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3ctcG9wdXAnKTtcclxuXHRcdFx0c2V0VGltZW91dChjbG9zZVBvcHVwLCAyMDAwKTtcclxuXHRcdFx0Y2xlYXJJbnB1dHMoYWxsSW5wdXRzKTtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbWFpbCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93RXJyb3IoZW1haWwsICdQb2RhbnkgYWRyZXMgbWFpbG93eSBqZXN0IG5pZXBvcHJhd255Jyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbFNweSk7XHJcblx0Y29va2llQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29va2llQkJveCk7XHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlc2NhcGVLZXlDaGVjayk7XHJcblx0Y2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zaW5nUG9wdXApO1xyXG5cdHBvcHVwQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2luZ1BvcHVwKTtcclxuXHRidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTWVudSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhcjtcclxufTtcclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XHJcblxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZztcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSBpbnB1dHMgPT4ge1xyXG5cdGlucHV0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0aXRlbS52YWx1ZSA9ICcnO1xyXG5cdH0pO1xyXG5cdHRleHRBcmVhLnZhbHVlID0gJyc7XHJcbn07XHJcblxyXG4vLyBjb25zdCBjaGVja0Zvcm0gPSBpbnB1dHMgPT4ge1xyXG4vLyBcdGlucHV0cy5mb3JFYWNoKGVsID0+IHtcclxuLy8gXHRcdGlmIChlbC52YWx1ZS50cmltKCkgPT09ICcnKSB7XHJcbi8vIFx0XHRcdHNob3dFcnJvcihlbCwgJ1RvIHBvbGUgbmllIG1vxbxlIHBvem9zdGHEhyBwdXN0ZScpO1xyXG4vLyBcdFx0fSBlbHNlIHtcclxuLy8gXHRcdFx0Y2xlYXJFcnJvcihlbCk7XHJcbi8vIFx0XHR9XHJcbi8vIFx0fSk7XHJcbi8vIH07XHJcblxyXG5jb25zdCBjaGVja01haWwgPSBlbWFpbCA9PiB7XHJcblx0cmV0dXJuIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLy50ZXN0KFxyXG5cdFx0ZW1haWwudmFsdWUudHJpbSgpXHJcblx0KTtcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1wb3B1cCcpO1xyXG59O1xyXG5cclxuLy8gY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcbi8vIFx0Y29uc3QgYWxsRm9ybUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3RfX2Zvcm0tYm94Jyk7XHJcbi8vIFx0bGV0IGVycm9yQ291bnQgPSAwO1xyXG5cclxuLy8gXHRhbGxGb3JtQm94ZXMuZm9yRWFjaChlbCA9PiB7XHJcbi8vIFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcbi8vIFx0XHRcdGVycm9yQ291bnQrKztcclxuLy8gXHRcdH1cclxuLy8gXHR9KTtcclxuXHJcbi8vIFx0aWYgKGVycm9yQ291bnQgPT09IDApIHtcclxuLy8gXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3ctcG9wdXAnKTtcclxuLy8gXHRcdHNldFRpbWVvdXQoY2xvc2VQb3B1cCwgMjAwMCk7XHJcbi8vIFx0fSBlbHNlIHtcclxuLy8gXHRcdHJldHVybiBmYWxzZTtcclxuLy8gXHR9XHJcbi8vIH07XHJcblxyXG4vLyBidXJnZXIgYnRuXHJcblxyXG5jb25zdCBvcGVuTWVudSA9ICgpID0+IHtcclxuXHRjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcl9fbGlzdCcpO1xyXG5cdG5hdkxpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2YmFyX19saXN0LS1hY3RpdmUnKTtcclxufTtcclxuXHJcbi8vIGNsb3NlIG1lbnVcclxuXHJcbmNvbnN0IGl0ZW1jbG9zZU1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2xpc3QnKTtcclxuXHRuYXZMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ25hdmJhcl9fbGlzdC0tYWN0aXZlJyk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2ljb24nKTtcclxuXHRjb25zdCBuYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXJfX2l0ZW0nKTtcclxuXHRuYXZJdGVtcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaXRlbWNsb3NlTWVudSk7XHJcblx0fSk7XHJcblxyXG5cdG5hdkljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpdGVtY2xvc2VNZW51KTtcclxufTtcclxuXHJcbi8vIHNjcm9sbCBzcHlcclxuXHJcbmNvbnN0IGhhbmRsZVNjcm9sbFNweSA9ICgpID0+IHtcclxuXHRpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGFnZScpKSB7XHJcblx0XHRjb25zdCBzZWN0aW9ucyA9IFtdO1xyXG5cclxuXHRcdHNjcm9sbFNweVNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR3aW5kb3cuc2Nyb2xsWSA8PVxyXG5cdFx0XHRcdHNlY3Rpb24ub2Zmc2V0VG9wICsgc2VjdGlvbi5vZmZzZXRIZWlnaHQgLSBuYXZiYXIub2Zmc2V0SGVpZ2h0IC0gMVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRzZWN0aW9ucy5wdXNoKHNlY3Rpb24pO1xyXG5cclxuXHRcdFx0XHRjb25zdCBhY3RpdmVTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0XHRcdGBbaHJlZio9XCIke3NlY3Rpb25zWzBdLmlkfVwiXWBcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRpZiAoYWN0aXZlU2VjdGlvbikge1xyXG5cdFx0XHRcdFx0bWVudUl0ZW1zLmZvckVhY2gobGluayA9PiBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuXHRcdFx0XHRcdGFjdGl2ZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG1lbnVJdGVtcy5mb3JFYWNoKGxpbmsgPT4gbGluay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAod2luZG93LmlubmVySGVpZ2h0ICsgd2luZG93LnNjcm9sbFkgPiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCkge1xyXG5cdFx0XHRcdGNvbnN0IGxhc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhci1pdGVtOmxhc3Qtb2YtdHlwZScpO1xyXG5cclxuXHRcdFx0XHRtZW51SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG5cclxuXHRcdFx0XHRsYXN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCcuYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIHpvb20gaW1nXHJcblxyXG5hbGxJbWFnZXMuZm9yRWFjaChlbCA9PiB7XHJcblx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRjb25zdCBwb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1pbWcgaW1nJyk7XHJcblx0XHRwb3B1cEJveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdHBvcHVwSW1nLnNyYyA9IGVsLmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcblx0XHRwb3B1cEltZy5hbHQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2FsdCcpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbi8vIGNsb3NlIGltZ1xyXG5cclxuY29uc3QgY2xvc2luZ1BvcHVwID0gKCkgPT4ge1xyXG5cdHBvcHVwQm94LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn07XHJcblxyXG5jb25zdCBlc2NhcGVLZXlDaGVjayA9IGUgPT4ge1xyXG5cdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuXHRcdGNsb3NpbmdQb3B1cCgpO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIGNvb2tpZXNcclxuXHJcbmNvbnN0IHNob3dDb29raWUgPSAoKSA9PiB7XHJcblx0Y29uc3QgY29va2llRWF0ZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29va2llJyk7XHJcblxyXG5cdGlmIChjb29raWVFYXRlbikge1xyXG5cdFx0Y29va2llQm94LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDb29raWVCQm94ID0gKCkgPT4ge1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb29raWUnLCAndHJ1ZScpO1xyXG5cdGNvb2tpZUJveC5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbik7XHJcbiJdfQ==
